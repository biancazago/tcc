<h1>Lista de professores</h1>
<hr />
<div class="display-flex justify-content-end padding-1">
  <!-- <p-button icon="pi pi-plus margin-right-2" label="Novo" routerLink="novo"></p-button> -->
  <p-button icon="pi pi-plus" label="Novo" (click)="mostrarModal = true"></p-button>
</div>
<p-table [columns]="colunas" [value]="pagina.content" [paginator]="true" [rows]="10" [lazy]="true"
  (onPage)="preencherTabela($event)" emptyMessage="Nenhum registro encontrado"
  [totalRecords]="pagina.totalElements">
  <ng-template pTemplate="header" let-columns>
    <tr>
      <th *ngFor="let col of columns" [ngStyle]="{'width': col.tamanho}">{{ col.cabecalho }}</th>
      <th style="width: 120px">Ações</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rowData let-columns="columns">
    <tr>
      <td *ngFor="let col of columns">{{ rowData[col.campo] }}</td>
      <td>
        <div class="display-flex justify-content-between">
          <p-button icon="pi pi-trash" (click)="excluir(rowData.id)"></p-button>
          <!-- <p-button icon="pi pi-pencil" [routerLink]="rowData.id"></p-button> -->
          <p-button icon="pi pi-pencil" (click)="editar(rowData.id)"></p-button>
        </div>
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage" let-columns>
    <tr>
      <td [attr.colspan]="columns.length + 1">Nenhum professor registrado.</td>
    </tr>
</ng-template>
</p-table>

<p-dialog [header]="professorEditado ? 'Editar Professor' : 'Adicionar Professor'" [closable]="false" [draggable]="false" [(visible)]="mostrarModal" *ngIf="mostrarModal">
  <app-form-professor [modal]="true" [professor]="professorEditado" (aoFinalizar)="finalizarAlteracao($event)"></app-form-professor>
</p-dialog>

<p-toast></p-toast>
